"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3562],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=p(a),u=r,k=c["".concat(o,".").concat(u)]||c[u]||d[u]||i;return a?n.createElement(k,l(l({ref:t},m),{},{components:a})):n.createElement(k,l({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5974:function(e,t,a){a.r(t),a.d(t,{contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),l=["components"],s={},o="Alternatives",p={type:"mdx",permalink:"/alternatives",source:"@site/src/pages/alternatives.md",title:"Alternatives",description:"There are many great existing solutions out there that solve similar problems and I've tried to learn from them as much as I can. This tool that I've built is definitely not better or more feature-rich than for example 99designs/aws-vault in many scenarios as it has a lot more features, more contributors and been around some time. Instead vegas-credentials aims to \"one thing well\": See Design Principles.",frontMatter:{}},m=[{value:"<code>99designs/aws-vault</code>",id:"99designsaws-vault",level:2},{value:"<code>broamski/aws-mfa</code>",id:"broamskiaws-mfa",level:2},{value:"<code>meeuw/aws-credential-process</code>",id:"meeuwaws-credential-process",level:2}],d={toc:m};function c(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"alternatives"},"Alternatives"),(0,i.kt)("p",null,"There are many great existing solutions out there that solve similar problems and I've tried to learn from them as much as I can. This tool that I've built is definitely not better or more feature-rich than for example ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/99designs/aws-vault"},(0,i.kt)("inlineCode",{parentName:"a"},"99designs/aws-vault"))," in many scenarios as it has a lot more features, more contributors and been around some time. Instead ",(0,i.kt)("inlineCode",{parentName:"p"},"vegas-credentials"),' aims to "one thing well": See ',(0,i.kt)("a",{parentName:"p",href:"/design-principles"},"Design Principles"),"."),(0,i.kt)("p",null,"The comparison below focuses on the specific use case this tool tries to solve (i.e. providing a nice UX for assuming a role with MFA using ",(0,i.kt)("inlineCode",{parentName:"p"},"credential_process")," to support as many AWS tools as possible without having to use wrapper scripts)."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Feature/Info"),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"th"},"aripalo/vegas-credentials")),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"https://github.com/99designs/aws-vault"},(0,i.kt)("inlineCode",{parentName:"a"},"99designs/aws-vault"))),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"https://github.com/broamski/aws-mfa"},(0,i.kt)("inlineCode",{parentName:"a"},"broamski/aws-mfa"))),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("a",{parentName:"th",href:"https://github.com/meeuw/aws-credential-process"},(0,i.kt)("inlineCode",{parentName:"a"},"meeuw/aws-credential-process"))))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Github Stats"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/stars/aripalo/vegas-credentials?style=flat",alt:"GitHub Repo stars"})," ",(0,i.kt)("br",null)," ",(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/last-commit/aripalo/vegas-credentials?style=flat",alt:"GitHub last commit"})),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/stars/99designs/aws-vault?style=flat",alt:"GitHub Repo stars"})," ",(0,i.kt)("br",null)," ",(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/last-commit/99designs/aws-vault?style=flat",alt:"GitHub last commit"})),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/stars/broamski/aws-mfa?style=flat",alt:"GitHub Repo stars"}),"  ",(0,i.kt)("br",null)," ",(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/last-commit/broamski/aws-mfa?style=flat",alt:"GitHub last commit"})),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/stars/meeuw/aws-credential-process?style=flat",alt:"GitHub Repo stars"})," ",(0,i.kt)("br",null)," ",(0,i.kt)("img",{parentName:"td",src:"https://img.shields.io/github/last-commit/meeuw/aws-credential-process?style=flat",alt:"GitHub last commit"}))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"credential_process")," ",(0,i.kt)("br",null),"with MFA + Assume Role"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c ",(0,i.kt)("a",{parentName:"td",href:"#note2"},(0,i.kt)("sup",null,"[*2]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c ",(0,i.kt)("a",{parentName:"td",href:"#note4"},(0,i.kt)("sup",null,"[*4]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Automatic Temporary Session Credential Refresh"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c ",(0,i.kt)("a",{parentName:"td",href:"#note3"},(0,i.kt)("sup",null,"[*3]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c ",(0,i.kt)("a",{parentName:"td",href:"#note5"},(0,i.kt)("sup",null,"[*5]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Yubikey"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 \u2705 ",(0,i.kt)("a",{parentName:"td",href:"#note1"},(0,i.kt)("sup",null,"[*1]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 ",(0,i.kt)("a",{parentName:"td",href:"#note1"},(0,i.kt)("sup",null,"[*1]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c  ",(0,i.kt)("a",{parentName:"td",href:"#note6"},(0,i.kt)("sup",null,"[*6]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705 ",(0,i.kt)("a",{parentName:"td",href:"#note10"},(0,i.kt)("sup",null,"[*10]")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Cache Encryption"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c  ",(0,i.kt)("a",{parentName:"td",href:"#note7"},(0,i.kt)("sup",null,"[*7]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Cache Invalidation on config change"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705  ?"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705  ",(0,i.kt)("a",{parentName:"td",href:"#note8"},(0,i.kt)("sup",null,"[*8]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Cached Performance"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u26a1\ufe0f ",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},"<100ms"),(0,i.kt)("a",{parentName:"td",href:"#note11"},(0,i.kt)("sup",null,"[*11]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u26a1\ufe0f ",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},"<50ms")),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u26a1\ufe0f ",(0,i.kt)("br",null)," ",(0,i.kt)("a",{parentName:"td",href:"#note9"},(0,i.kt)("sup",null,"[*9]"))),(0,i.kt)("td",{parentName:"tr",align:"center"},"\ud83d\udc22",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},">400ms"),(0,i.kt)("a",{parentName:"td",href:"#note11"},(0,i.kt)("sup",null,"[*11]")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Comprehensively Unit Tested"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:"center"},"?"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"\u2705")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"Installation methods"),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"brew"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"scoop")),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"brew"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"port"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"choco"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"scoop"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"pacman"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"pkg"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"zypper"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"nix-env"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"asdf")),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"pip")),(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"brew"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"pip"))))),(0,i.kt)("p",null,"Please, ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/aripalo/vegas-credentials/discussions"},"correct me if I'm wrong")," above or there's any other good alternatives!"),(0,i.kt)("h2",{id:"99designsaws-vault"},(0,i.kt)("inlineCode",{parentName:"h2"},"99designs/aws-vault")),(0,i.kt)("br",null),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note1"}),"Yubikey support in ",(0,i.kt)("code",null,"99designs/aws-vault")," is not perfect:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Using multiple Yubikeys is cumbersome due to having to pass in Yubikey ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/99designs/aws-vault/pull/748"},"device serial as environment variable for each command")," \u2013 vs. this tool allows setting device serial via configuration per profile (no need to remember the serial for each Yubikey)."),(0,i.kt)("li",{parentName:"ul"},"Uses deprecated ",(0,i.kt)("inlineCode",{parentName:"li"},"ykman")," commands."),(0,i.kt)("li",{parentName:"ul"},"See also ",(0,i.kt)("a",{parentName:"li",href:"#note2"},"point 2")," about ",(0,i.kt)("inlineCode",{parentName:"li"},"credential_process"),", assumed roles and Yubikeys.")))),(0,i.kt)("br",null),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note2"}),"Does not seem to play well with ",(0,i.kt)("code",null,"credential_process"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"At least I haven't figured out how to succesfully configure it to use ",(0,i.kt)("inlineCode",{parentName:"strong"},"credential_process"),", assume a role, use Yubikey for MFA and to provide temporary session credentials."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"They themselves ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/99designs/aws-vault/blob/master/USAGE.md#using-credential_process"},"claim that ",(0,i.kt)("em",{parentName:"a"},"\u201c",(0,i.kt)("inlineCode",{parentName:"em"},"credential_process")," is designed for retrieving master credentials\u201d"))," - which is NOT true since this tool does work with temporary credentials via ",(0,i.kt)("inlineCode",{parentName:"p"},"credential_process")," just fine and even the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sourcing-external.html"},"AWS docs on ",(0,i.kt)("inlineCode",{parentName:"a"},"credential_process")," show ",(0,i.kt)("inlineCode",{parentName:"a"},"SessionToken")," and ",(0,i.kt)("inlineCode",{parentName:"a"},"Expiration")," on the expected output from the credentials program"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"There's further indication that ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/99designs/aws-vault/issues/641#issuecomment-681346113"},(0,i.kt)("inlineCode",{parentName:"a"},"99designs/aws-vault")," is not designed for ",(0,i.kt)("inlineCode",{parentName:"a"},"credential_process")),":"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("em",{parentName:"p"},(0,i.kt)("strong",{parentName:"em"},"Using credentials_process isn't the way I use aws-vault"),", it was a contributed addition, so feels like we should emphasise this is not the recommended path.")),(0,i.kt)("p",{parentName:"blockquote"},"\u2013 Michael Tibben, VP Technology, 99designs")))))),(0,i.kt)("br",null),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note3"}),"This pretty much relates to ",(0,i.kt)("a",{href:"#note1"},"point 1"),": For AWS tools to automatically request refreshed credentials, the credentials need to be provided via either the multiple standard methods or via ",(0,i.kt)("code",null,"credential_process"),".")),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"broamskiaws-mfa"},(0,i.kt)("inlineCode",{parentName:"h2"},"broamski/aws-mfa")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note4"}),"Works differently by writing temporary session credentials into ",(0,i.kt)("code",null,"~/.aws/credentials"),", so therefore no ",(0,i.kt)("code",null,"credential_process")," support at all.")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note5"}),"If temporary session credentials written into ",(0,i.kt)("code",null,"~/.aws/credentials")," by ",(0,i.kt)("code",null,"broamski/aws-mfa")," are expired, AWS tools will fail and you must invoke ",(0,i.kt)("code",null,"aws-mfa")," command manually to fetch new session credentials. There is no (automatic) way for AWS tools to trigger ",(0,i.kt)("code",null,"aws-mfa")," command.")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note6"}),"You may use Yubikey, but it requires you to manually copy-paste the value from ",(0,i.kt)("code",null,"ykman"),' or Yubikey Manager GUI. No "touch integration".')),(0,i.kt)("br",null),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note7"}),"Temporary session credentials are written in plaintext into ",(0,i.kt)("code",null,"~/aws/credentials"),". Besides being available as plaintext, it pollutes the credentials file.")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note8"}),"Configuration is only provided via flags to ",(0,i.kt)("code",null,"aws-mfa")," CLI command, so each time you execute ",(0,i.kt)("code",null,"aws-mfa")," it will use the flags provided. But, the gotcha is that again you need to execute ",(0,i.kt)("code",null,"aws-mfa")," manually always.")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note9"}),'As temporary session credentials (or "short-term" as ',(0,i.kt)("code",null,"aws-mfa")," calls them) are stored as plaintext into ",(0,i.kt)("code",null,"~/aws/credentials"),", there is no delay since AWS tools can directly read them from that file.")),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"meeuwaws-credential-process"},(0,i.kt)("inlineCode",{parentName:"h2"},"meeuw/aws-credential-process")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:10},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note10"}),"Does not support multiple Yubikey devices.")),(0,i.kt)("br",null),(0,i.kt)("ol",{start:11},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{id:"note11"}),"Performance",(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/sharkdp/hyperfine"},"Hyperfine")," benchmark for retrieving cached temporary session credentials:"),(0,i.kt)("p",{parentName:"li"},"TODO: update"))))}c.isMDXComponent=!0}}]);